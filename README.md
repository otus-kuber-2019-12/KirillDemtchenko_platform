# KirillDemtchenko_platform
KirillDemtchenko Platform repository

## kubernetes-intro:
* Установил minikube и kind на рабочий компьютер.
* Проверил, что в кластере восстанавливаются ноды после удаления: core-dns - как ReplicaSet, остальные kube-apiserver скорее всего контролируются системными процессами - но это не очевидно в отличии от core-dns.
* Создал Dockerfile для http сервера - на python http.server.
* Создал манифест web-pod.yaml.
* С помощью kubectl port-forward --address 0.0.0.0 pod/web 8000:8000 проверил работоспособность.
* Скопировал репозиторий hipster shop, собрал/запушил образ frontend
* Запустил под frontend - добавил необходимые переменные в env для запуска

## kubernetes-controllers:
* Создал поды с помощью ReplicaSet
* Попробовал изменить версию приложения, применяя новый манифест
* Попробовал изменить версию, удаляя поды и применяя манифест
* Изменений не произошло, потому что ReplicaSet не управляет изменениями. Что бы отслежививать изменения в репликаСета необходим Deployment как контроллер контроллеров.
* Создал RepliceSet и Deployment для сервиса paymentservice
* Попробовал накатить/откатить изменения с помощью Deployment
* Разобрался как с помощью Probe остлеживать корректность работы подов.

## kubernetes-security:
### Работа с тестовым веб приложением
* Добавил readinessProbe в описание пода web
* Добавил livenessProbe в описание пода
* Применил манифест и посмотрел сообщение о готовности пода
`Вопрос для самопроверки:  
Конструкция не имеет смысла, так как не возвращает статус никакой статус. Имеет смысл если как-то обработать возвращаемое значение. То есть код отличный от 0.`
* Создал и применил деплоймент web-deployment.yaml
* Убедился, что деплоймент находится в состоянии unavailable
* Исправил порт и изменил кол-во реплик на 3
* Убедился, что статус Probe true
* Понаблюдал за разницей в деплое при разных настройка stategy
* Создал сервис ClusterIP
* Поигрался с IPVS
* Разобрался с MetalLB
* Поработал с Ingress и headless сервисом
